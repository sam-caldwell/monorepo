---
clean:
  enabled: false
  steps:
    - continueOnError: false
      command: |
        rm -f ${BUILD_ROOT}/${BUILD_VERSION}/${BUILD_OS}/${BUILD_ARCH}/${PROJECT_NAME}

build:
  enabled: false
  steps:
    - enabled: true
      continueOnError: false
      command: |
        go build -o ${BUILD_ROOT}/${BUILD_VERSION}/${BUILD_OS}/${BUILD_ARCH}/${PROJECT_NAME} ${MANIFEST_DIR}/${PROJECT_NAME}/tools/findCollisions/main.go
    - enabled: true
      continueOnError: false
      command: |
        go build -o ${BUILD_ROOT}/${BUILD_VERSION}/${BUILD_OS}/${BUILD_ARCH}/${PROJECT_NAME} ${MANIFEST_DIR}/${PROJECT_NAME}/tools/preCalculateHash/main.go
    - enabled: true
      continueOnError: false
      command: |
        go build -o ${BUILD_ROOT}/${BUILD_VERSION}/${BUILD_OS}/${BUILD_ARCH}/${PROJECT_NAME} ${MANIFEST_DIR}/${PROJECT_NAME}/tools/searchHashes/main.go

test:
  enabled: true
  steps:
    - enabled: true
      continueOnError: true
      command: "go test -v -failfast ./go/types/..."
