---
clean:
  enabled: true
  steps:
    - enabled: true
      continueOnError: true
      command: "docker rmi -f services/jenkins:latest"
    - enabled: true
      continueOnError: true
      command: "docker rmi -f services/dns-server:latest"
    - enabled: true
      continueOnError: true
      command: "docker rmi -f services/postgresql:latest"
    - enabled: true
      continueOnError: true
      command: "docker rmi -f language/python:3"
    - enabled: true
      continueOnError: true
      command: "docker rmi -f language/node:20.10.0"
    - enabled: true
      continueOnError: true
      command: "docker rmi -f language/java:21"
    - enabled: true
      continueOnError: true
      command: "docker rmi -f opsys/ubuntu:20.04"
    - enabled: true
      continueOnError: true
      command: "docker rmi -f opsys/ubuntu:22.04"
    - enabled: true
      continueOnError: true
      command: "docker rmi -f opsys/ubuntu:23.04"

build:
  enabled: true
  steps:
    - enabled: true
      continueOnError: false
      command: |
        docker build --tag opsys/ubuntu:20.04 --file containers/opsys/ubuntu/20.04/Dockerfile .
    - enabled: true
      continueOnError: false
      command: |
        docker build --tag opsys/ubuntu:22.04 --file containers/opsys/ubuntu/22.04/Dockerfile .
    - enabled: true
      continueOnError: false
      command: |
        docker build --tag opsys/ubuntu:23.04 --file containers/opsys/ubuntu/23.04//Dockerfile .
    - enabled: true
      continueOnError: false
      command: |
        docker build --tag language/java:21 --file containers/language/java/21/Dockerfile .
    - enabled: true
      continueOnError: false
      command: |
        docker build --tag language/node:20.10.0 --file containers/language/node/20.10.0/Dockerfile .
    - enabled: true
      continueOnError: false
      command: |
        docker build --tag language/python:3 --file containers/language/python/3/Dockerfile .
    - enabled: true
      continueOnError: false
      command: |
        docker build --tag services/postgresql:latest --file containers/services/postgresql/Dockerfile .
    - enabled: true
      continueOnError: false
      command: |
        docker build --tag services/dns-server:latest --file containers/services/dns-server/Dockerfile .
    - enabled: false
      continueOnError: false
      command: |
        docker build --tag services/jenkins:latest --file containers/services/jenkins/Dockerfile .

test:
  enabled: false
